# 一.什么是异常

在Java中定义了很多异常类（如OutOfMemoryError、NullPointerException、IndexOutOfBoundsException等），Throwable 类是整个Java异常体系的超类，包含Error和Exception两个直接子类。

Error 一般指JAVA虚拟机出现错误，在程序中不**便也不需要捕获Error类型的异常**，例如OutOfMemoryError

Exception是应用层面上最顶层的异常类，包含RuntimeException（运行时异常，非检查异常）和 Checked Exception（检查异常）

## Error和Exception区别

（1）Error：程序无法处理的系统错误，编译器不做检查，如系统崩溃、虚拟机错误、系统内存不足等
（2）Exception：程序可以处理的异常，捕获并处理后可以恢复

总结：**前者是程序无法处理的错误，后者是可以处理的异常**

## 运行时异常和非运行时异常的区别

运行时异常：不可预知，程序应当自动避免
非运行时异常：可预知的，从编译器校验的异常

## Java常见异常汇总

![](https://raw.githubusercontent.com/wuqifan1098/picBed/master/Error%26Exception.png)

**Error**

- **AssertionError：**断言出错，用来指示一个断言失败的情况
- **OutOfMemoryError：**内存不足错误，当可用内存不足以让Java虚拟机分配给一个对象时抛出该错误。
- **StackOverflowError：**堆栈溢出错误。当一个应用递归调用的层次太深而导致堆栈溢出时抛出该错误。



# 二.Java中如何处理异常  

在Java中如果需要处理异常，**必须先对异常进行捕获，然后再对异常情况进行处理**。如何对可能发生异常的代码进行异常捕获和处理呢？使用try和catch关键字即可。如：

```java
try {
File file = new File("d:/a.txt");
if(!file.exists())
file.createNewFile();
} catch (IOException e) {
// TODO: handle exception
}
```

这是一种处理异常的方式。在Java中还提供了另一种异常处理方式即抛出异常，顾名思义，也就是说一旦发生异常，**我把这个异常抛出去，让调用者去进行处理，自己不进行具体的处理**，此时需要用到throw和throws关键字。

对于可能会发生异常的代码，可以选择三种方法来进行异常处理：

　　1）对代码块用try..catch进行异常捕获处理；

　　2）在该**代码的方法体**外用throws**进行抛出声明**，告知此方法的调用者这段代码可能会出现这些异常，你需要谨慎处理。此时有两种情况：

　　　　如果声明抛出的异常是**非运行时异**常，此方法的调用者必须**显示地用try..catch块进行捕获或者继续向上层抛出异常**。

　　　　如果声明抛出的异常是**运行时异常**，此方法的调用者可以选择地进行异常捕获处理。

　　3）在代码块用throw手动抛出一个异常对象，此时也有两种情况，跟2）中的类似：

　　　　如果抛出的异常对象是非运行时异常，此方法的调用者必须显示地用try..catch块进行捕获或者继续向上层抛出异常。

# 三.深刻理解try,catch,finally,throws,throw五个关键字   

 1.try,catch,finally

　　try关键字用来包围可能会出现异常的逻辑代码，它单独无法使用，必须配合catch或者finally使用。Java编译器允许的组合使用形式只有以下三种形式：

　　try...catch...;       try....finally......;    try....catch...finally...

　　当然catch块可以有多个，注意try块只能有一个,finally块是可选的（但是最多只能有一个finally块）。

　　三个块执行的顺序为try—>catch—>finally。

   当然如果没有发生异常，则catch块不会执行。但是**finally块无论在什么情况下都是会执行的**（这点要非常注意，因此部分情况下，都会将释放资源的操作放在finally块中进行）。

　　在有多个catch块的时候，是按照catch块的先后顺序进行匹配的，一旦异常类型被一个catch块匹配，则不会与后面的catch块进行匹配。

　　在使用try..catch..finally块的时候，注意**千万不要在finally块中使用return，因为finally中的return会覆盖已有的返回值。**下面看一个例子：

 2.throws和thow关键字

　　1）throws出现在**方法的声明**中，表示该方法可能会抛出的异常，然后**交给上层调用它的方法程序处理**，允许throws后面**跟着多个异常类型；**

　　2）一般会用于程序出现某种逻辑时程序员主动抛出某种特定类型的异常。throw只会出现在方法体中，当方法在执行过程中遇到异常情况时，将异常信息封装为异常对象，然后throw出去。throw关键字的一个非常重要的作用就是 异常类型的转换（会在后面阐述道）。

区别

throws是用来声明一个方法**可能抛出的所有异常信息**，throws是将**异常声明但是不处理，而是将异常往上传，谁调用我就交给谁处理**。而throw则是指抛出的**一个具体的异常类型**，可以**显式捕获该异常。**