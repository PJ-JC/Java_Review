# 面试题

## 1.**页面置换算法有哪些？**

- 最佳OPT
- 先进先出FIFO
- 最近最久未使用 LRU
- 最近未使用
- 时钟

# 页面置换算法

在程序运行过程中，若其所要访问的页面不在内存而需要把它们调入内存，但是**内存已无空闲空间时，系统必须从内存中调出一个页面到磁盘对换区中**，并且将程序所需要的页面调入内存中。页面置换算法的主要目标是使页面置换频率最低（也可以说缺页率最低）。

## 1. 最佳（Optimal）

所选择的被换出的页面将是**最长时间内不再被访问**，通常可以保证获得最低的缺页率。

是一种理论上的算法，因为无法知道一个页面多长时间会被再访问到。

举例：一个系统为某进程分配了三个物理块，并有如下页面引用序列：

7，0，1，2，0，3，0，4，2，3，0，3，2，1，2，0，1，7，0，1

进程运行时，先将 7,0,1 三个页面装入内存。当进程要访问页面 2 时，产生缺页中断，会将页面 7 换出，因为页面 7 再次被访问的时间最长。

## 2. 先进先出（FIFO）

所选择换出的页面是**最先进入的页面**。

该算法会将那些经常被访问的页面也被换出，从而使缺页率升高。

## 3. 最近最久未使用（LRU, Least Recently Used）

虽然无法知道将来要使用的页面情况，但是可以知道过去使用页面的情况。LRU 将最近最久未使用的页面换出。

可以**用栈来实现该算法**，栈中存储页面的页面号。当进程访问一个页面时，将**该页面的页面号从栈移除**，并将它压入栈顶。这样，**最近被访**

**问的页面的页面号总是在栈顶，而最近最久未使用的页面的页面号总是在栈底。**

因为每次访问都需要更新链表，因此这种方式实现的 LRU 代价很高。

## 4. 时钟（Clock）

Clock 页面置换算法需要用到一个访问位，当一个页面被访问时，将访问为置为 1。

首先，将内存中的所有页面链接成一个循环队列，当缺页中断发生时，检查当前指针所指向页面的访问位，如果访问位为 0，就将该页面换出；否则

将该页的访问位设置为 0，给该页面第二次的机会，移动指针继续检查。